<ng-template #content let-modal>
  <app-popup-header popupHeaderTitle="Edit Referral Contact"></app-popup-header>
  <div class="modal-body">
    <form [formGroup]="registerForm">
    <app-error></app-error>

    <div class="row mb-1" *ngIf="!success && !error">
             
      <div class="col-12">
        <label for="firstName" class="text-purple font-weight-bold">
          First Name
        </label>
        <input id="firstName" formControlName="name"  type="text" class="form-control purple-input" placeholder="First Name">
        <small class="text-purple" *ngIf="submitted && formErrors.name">
          {{ formErrors.name }}
        </small> 
      </div>
     
      <div class="col-12 text-right">
        <small class="text-purple"><i>Required</i></small>
      </div>

      <div class="col-12">
        <label for="lastName" class="text-purple font-weight-bold">
          Last Name
        </label>
        <input id="lastName" formControlName="lname" type="text" class="form-control purple-input" placeholder="Last Name">
        <small class="text-purple" *ngIf="submitted && formErrors.lname">
          {{ formErrors.lname }}
        </small>  
      </div>
      
      <div class="col-12 text-right">
        <small class="text-purple"><i>Required</i></small>
      </div>
      <div class="col-12">
        <label for="busName" class="text-purple font-weight-bold">
          Business Name
        </label>
        <input id="busName" formControlName="businessName" type="text" class="form-control purple-input" placeholder="Business Name">
        <small class="text-purple" *ngIf="submitted && formErrors.businessName">
          {{ formErrors.businessName }}
        </small> 
      </div>
       
      <div class="col-12"><small>&nbsp;</small></div>
      <div class="col-12">
        <label for="emailAddress" class="text-purple font-weight-bold">
          Email Address
        </label>
        <input id="emailAddress" formControlName="email" type="text" class="form-control purple-input" placeholder="Email Address">
        <small class="text-purple" *ngIf="submitted && formErrors.email" >
          {{ formErrors.email }}
        </small>
      </div>
     
      <div class="col-12 text-right">
        <small class="text-purple"><i>Required</i></small>
      </div>
      <!-- <div class="col-9"><small>&nbsp;</small></div> -->
      <div class="col-12">
        <label for="phoneNumber" class="text-purple font-weight-bold">
          Mobile Number
        </label> 
        <input id="phoneNumber" formControlName="phone" type="text" class="form-control purple-input" placeholder="Mobile Number">
        <small class="text-purple" *ngIf="submitted && formErrors.phone" >
          {{ formErrors.phone }}
        </small>
        <!-- <div class="col-12"><small>&nbsp;</small></div> -->
      </div>
    </div>

    <ng-container *ngIf="success">
      <div class="success-checkmark">
        <div class="check-icon">
          <span class="icon-line line-tip"></span>
          <span class="icon-line line-long"></span>
          <div class="icon-circle"></div>
          <div class="icon-fix"></div>
        </div>
      </div>

      <div class="row mb-1">
        <div class="col-12 text-center">
          <p class="text-purple">
            Thank you, the referral contact has been successfully updated.
          </p>
        </div>
      </div>
    </ng-container>

    <ng-container *ngIf="error">
      <div class="swal2-icon swal2-error swal2-animate-error-icon" style="display: flex;">
        <span class="swal2-x-mark">
          <span class="swal2-x-mark-line-left"></span>
          <span class="swal2-x-mark-line-right"></span>
        </span>
      </div>

      <div class="row text-center">
        <div class="col">
          <p class="text-purple font-16">Edit Referral Contact Failed</p>
        </div>
      </div>

      <div class="row mb-1">
        <div class="col-12 text-center">
          <p class="text-purple">
            Something went wrong, Please review the contact details and retry.
          </p>
        </div>
      </div>
    </ng-container>
    </form>
  </div>

  <div class="modal-footer justify-content-center">
    <div class="row text-center" style="display: contents!important;">
      <div class="col">
        <button class="btn btn-purple cancel-btn" *ngIf="!success && !error" (click)="popupService.close()">Cancel</button>
        <button class="btn btn-purple" *ngIf="!success && !error" (click)="editReferral()">Submit</button>
        <button class="btn btn-purple" *ngIf="success" (click)="popupService.close()">Close</button>
        <!-- <button class="btn btn-purple cancel-btn" *ngIf="error" (click)="popupService.close()">Cancel</button> -->
        <button class="btn btn-purple" *ngIf="error" (click)="retry()">Review</button>
      </div>
    </div>
  </div>
</ng-template>
